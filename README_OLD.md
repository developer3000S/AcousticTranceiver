# Акустический текстовый трансивер

Приложение, которое преобразует текстовые сообщения в аудиосигналы для передачи во время голосового вызова и декодирует их на стороне получателя. Демонстрирует передачу данных с использованием тональной модуляции без необходимости подключения к интернету или использования SMS.

## Как это работает

Принцип работы основан на технологии частотной манипуляции (FSK), где каждый символ текста сопоставляется с уникальной звуковой частотой (тоном).

1.  **Отправитель:** Вводит текстовое сообщение. Приложение генерирует последовательность звуковых тонов, соответствующую каждому символу, и воспроизводит их.
2.  **Канал связи:** Во время телефонного или онлайн-звонка отправитель подносит динамик своего телефона к микрофону.
3.  **Получатель:** Активирует режим "прослушивания" в приложении на своем телефоне. Приложение анализирует входящий аудиопоток через микрофон, распознает частоты и декодирует их обратно в символы, восстанавливая исходное сообщение.

## Использование

Интерфейс разделен на две основные части: "Отправитель" и "Получатель".

### Отправитель

1.  **Ввод сообщения:** Введите текст в поле "Сообщение для передачи". Неподдерживаемые символы будут подсвечены.
2.  **Использование шаблонов:** Вы можете выбрать готовое сообщение из выпадающего списка, добавить новое или удалить ненужное. Это удобно для часто отправляемых фраз.
3.  **Передача:** Нажмите кнопку **"Передать аудио"**. Приложение начнет воспроизводить звуковые тоны. Держите телефон близко к микрофону другого устройства.
4.  **Сохранение в файл:** Нажмите **"Сохранить .wav"**, чтобы сгенерировать аудиофайл с вашим сообщением. Этот файл можно отправить через мессенджер.

### Получатель

1.  **Начало прослушивания:** Нажмите **"Начать прослушивание"**. Приложению потребуется доступ к микрофону.
2.  **Декодирование:** Держите телефон так, чтобы микрофон мог четко улавливать звуки от устройства отправителя. Декодированный текст будет появляться в соответствующем поле в реальном времени.
3.  **Остановка:** Нажмите **"Остановить прослушивание"**, чтобы завершить сеанс.

## Настройка

В блоке "Отправитель" доступны дополнительные настройки передачи, которые можно открыть, нажав на кнопку "Настройки передачи":

*   **Громкость передачи:** Регулирует громкость воспроизводимых тонов. Более высокая громкость улучшает распознавание, но может вызывать искажения.
*   **Пауза между символами:** Устанавливает длительность тишины между тонами. Увеличение паузы может повысить надежность декодирования на медленных или зашумленных линиях связи.

## Тестирование

Проект использует Vitest для unit-тестирования. Тесты находятся рядом с исходными файлами (например, `audioService.test.ts` рядом с `audioService.ts`).

Для запуска тестов выполните команду:

```bash
npm test
```

Это запустит Vitest в режиме наблюдения, который будет автоматически перезапускать тесты при изменении файлов.

## Сборка и установка

Инструкции по сборке нативного приложения для Android с помощью Capacitor находятся в файле [INSTALL.md](INSTALL.md).